<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QARK - APK Security Analysis Report</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #b3e5fc 0%, #4fc3f7 100%);
      color: #eceff1;
      margin: 0;
      padding: 30px;
      text-align: left;
      direction: ltr;
      line-height: 1.6;
    } 
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: linear-gradient(145deg, #0d47a1, #263238);
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      padding: 50px;
    }
    h1, h2 {
      color: #ffffff;
      text-align: center;
      margin-bottom: 15px;
    }
    h1 {
      font-size: 2.8em;
      font-weight: 600;
      background: linear-gradient(45deg, #42a5f5, #90caf9);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    h2 {
      font-size: 1.6em;
      font-weight: 400;
      color: #b0bec5;
    }
    .developers {
      text-align: center;
      font-size: 1.2em;
      color: #90a4ae;
      margin-bottom: 30px;
    }
    .developers span {
      margin: 0 15px;
      color: #64b5f6;
    }
    .issue {
      background: linear-gradient(145deg, #37474f, #263238);
      border-left: 6px solid;
      border-radius: 8px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .issue:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
    }
    .issue.vulnerability {
      border-left-color: #ef5350;
      background: linear-gradient(145deg, #4e342e, #3e2723);
    }
    .issue.warning {
      border-left-color: #ffa726;
      background: linear-gradient(145deg, #5d4037, #4e342e);
    }
    .issue-title {
      font-size: 1.4em;
      font-weight: 600;
      color: #ef5350;
      margin-bottom: 12px;
    }
    .issue.warning .issue-title {
      color: #ffa726;
    }
    .issue-description {
      font-size: 1em;
      color: #b0bec5;
      margin-bottom: 15px;
    }
    .issue-file {
      font-size: 0.95em;
      color: #eceff1;
      background-color: #37474f;
      padding: 12px;
      border-radius: 6px;
      word-break: break-all;
    }
    .issue-tags {
      font-size: 0.9em;
      color: #4fc3f7;
      margin-top: 10px;
    }
    .issue-tags::before {
      content: "\f02c";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      margin-right: 8px;
      color: #4fc3f7;
    }
    footer {
      text-align: center;
      margin-top: 50px;
      font-size: 0.9em;
      color: #90a4ae;
    }
    footer::before {
      content: "";
      display: block;
      width: 120px;
      height: 2px;
      background: linear-gradient(90deg, #42a5f5, #90caf9);
      margin: 20px auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>QARK</h1>
    <h2>Quick Android Review Kit</h2>
    <h2>APK Security Analysis Report</h2>
    <div class="developers">
      <p>TOOL Developed by</p>
      <p>
        <span>Jineen Abu Amr</span> · 
        <span>Daoud Abu Madi</span> · 
        <span>R7mah Alqur3an</span> · 
        <span>3asem Alselwady</span>
      </p>
    </div>
    {% for issue in issues %}
    <div class="issue {{ issue.severity.name | lower }}">
      <div class="issue-title"><i class="fas fa-exclamation-circle"></i> {{ issue.severity.name }} - {{ issue.name }}</div>
      <div class="issue-description">{{ issue.description | e }}</div>
      {% if issue.file_object %}
      <div class="issue-file">
        <strong><i class="fas fa-file-code"></i> File:</strong><br>
        {{ issue.file_object }}{% if issue.line_number %}:{{ issue.line_number[0] }}:{{ issue.line_number[1] }}{% endif %}
      </div>
      {% endif %}
      {% if issue.tags %}
      <div class="issue-tags">
        {{ issue.tags | join(", ") }}
      </div>
      {% endif %}
    </div>
    {% endfor %}
    <footer>
      Generated by QARK on {{ current_date }}
    </footer>
  </div>
</body>
</html>
